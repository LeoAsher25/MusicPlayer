(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(5),a=n.n(r),i=(n(11),n(12),n(4)),l=n.n(i),o=n(6),u=n(2),j=(n(14),n(0));var d=function(e){var t=e.playing,n=e.songs,s=e.currentSong,r=Object(c.useRef)();return document.onscroll=function(){},Object(c.useEffect)((function(){r.current=document.querySelector(".dashboard-header"),t?(r.current.classList.add("playing"),r.current.classList.remove("paused")):(r.current.classList.remove("playing"),r.current.classList.add("paused"))}),[t]),Object(j.jsxs)("div",{className:"dashboard-header playing",children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("h5",{children:"Now Playing:"}),Object(j.jsx)("h3",{children:n[s].title})]}),Object(j.jsx)("div",{className:"cd",children:Object(j.jsx)("div",{className:"img",style:{background:"url(".concat(n[s].avatar,")")}})})]})};n(16);function m(e){if(!e)return"00:00";var t="0".concat(Math.floor(e/3600)).slice(-2),n="0".concat(Math.floor(e%3600/60)).slice(-2),c="0".concat(Math.floor(e%3600%60)).slice(-2);return t>0?"".concat(t,":").concat(n,":").concat(c):"".concat(n,":").concat(c)}var b=function(e){var t=e.playing,n=e.setPlaying,s=e.handlePlayBtn,r=e.handleChangeSong,a=e.songs,i=e.currentSong,l=Object(c.useRef)(),o=Object(c.useRef)(),u=Object(c.useRef)(),d=Object(c.useRef)(),b=Object(c.useRef)(!1),v=Object(c.useRef)(!1);function g(){var e;do{e=Math.floor(Math.random()*a.length)}while(e===i);r(e)}function f(){v.current?g():i===a.length-1?r(0):r(i+1)}return Object(c.useEffect)((function(){l.current=document.querySelector(".process"),o.current=l.current.querySelector("audio"),u.current=l.current.querySelector("#progress"),d.current=l.current.querySelector("#volume");var e=l.current.querySelector(".current-time"),n=l.current.querySelector(".duration");u.current.value=0,d.current.value=50,o.current.volume=.5;var c=setInterval((function(){var t=o.current.currentTime,c=o.current.duration;e.innerHTML=m(t),n.innerHTML=m(c);var s=o.current.currentTime/o.current.duration*100;u.current.value=s,u.current.value>=100&&!1===b&&r(i+1)}),1e3);return t&&o.current.play(),function(){clearInterval(c)}}),[i,t]),Object(j.jsxs)("div",{className:"process",children:[Object(j.jsxs)("ul",{className:"action",children:[Object(j.jsx)("li",{onClick:function(e){return function(e){b.current=!b.current,e.target.closest(".repeat-btn").classList.toggle("active",b.current),o.current.loop=b.current}(e)},className:"action-btn repeat-btn",children:Object(j.jsx)("i",{className:"fas fa-redo"})}),Object(j.jsx)("li",{onClick:function(){v.current?g():r(0===i?a.length-1:i-1)},className:"action-btn",children:Object(j.jsx)("i",{className:"fas fa-step-backward"})}),Object(j.jsxs)("li",{onClick:function(e){l.current.classList.toggle("playing"),s(l.current.classList.contains("playing")),l.current.classList.contains("playing")?(o.current.play(),n(!0)):(o.current.pause(),n(!1))},className:"action-btn",children:[Object(j.jsx)("i",{className:"fas fa-pause"}),Object(j.jsx)("i",{className:"fas fa-play"})]}),Object(j.jsx)("li",{onClick:f,className:"action-btn",children:Object(j.jsx)("i",{className:"fas fa-step-forward"})}),Object(j.jsx)("li",{onClick:function(e){return function(e){v.current=!v.current,e.target.closest(".random-btn").classList.toggle("active",v.current),o.current.loop=v.current}(e)},className:"action-btn random-btn",children:Object(j.jsx)("i",{className:"fas fa-random"})})]}),Object(j.jsxs)("div",{className:"progress-wrap",children:[Object(j.jsx)("span",{className:"current-time",children:"00:00:00"}),Object(j.jsx)("input",{onChange:function(e){return function(e){var t=o.current.duration/100*e.target.value;o.current.currentTime=t}(e)},id:"progress",className:"progress-bar",type:"range",step:"1",min:"0",max:"100"}),Object(j.jsx)("span",{className:"duration",children:"00:00:00"})]}),Object(j.jsxs)("div",{className:"volume-wrap  volume-up",children:[Object(j.jsxs)("div",{className:"volume-icon-wrap",children:[Object(j.jsx)("i",{className:"bi bi-volume-mute-fill"}),Object(j.jsx)("i",{className:"bi bi-volume-down-fill"}),Object(j.jsx)("i",{className:"bi bi-volume-up-fill"})]}),Object(j.jsx)("div",{className:"volume-bar-wrap",children:Object(j.jsx)("input",{onChange:function(e){return function(e){var t=e.target.closest(".volume-wrap");o.current.volume=d.current.value/100,d.current.value>=50?(t.classList.contains("mute")?t.classList.remove("mute"):t.classList.contains("volume-down")&&t.classList.remove("volume-down"),t.classList.add("volume-up")):d.current.value<50&&d.current.value>0?(t.classList.contains("mute")?t.classList.remove("mute"):t.classList.contains("volume-up")&&t.classList.remove("volume-up"),t.classList.add("volume-down")):0==d.current.value&&(t.classList.contains("volume-up")?t.classList.remove("volume-up"):t.classList.contains("volume-down")&&t.classList.remove("volume-down"),t.classList.add("mute"))}(e)},id:"volume",className:"volume-bar",type:"range",step:"1",min:"0",max:"100"})})]}),Object(j.jsx)("audio",{id:"audio",src:a[i].music,onEnded:function(){b.current?o.current.play():f()}})]})};n(17);var v=function(e){var t=e.playing,n=e.setPlaying,c=e.songs,s=e.currentSong,r=e.handleChangeSong;return Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsx)(d,{playing:t,setPlaying:n,songs:c,currentSong:s}),Object(j.jsx)(b,{playing:t,setPlaying:n,handlePlayBtn:n,handleChangeSong:r,songs:c,currentSong:s})]})};n(18);var g=function(e){var t=e.songs,n=e.currentSong,c=e.setCurrentSong;function s(e,t){e.target.closest(".song:not(.active)")&&c(t)}return Object(j.jsx)("div",{className:"menu",children:Object(j.jsx)("ul",{className:"song-list",children:t.map((function(e,t){return t===n?Object(j.jsxs)("li",{className:"song active",onClick:function(e){return s(e,t)},children:[Object(j.jsx)("div",{className:"song__img",children:Object(j.jsx)("img",{src:e.avatar})}),Object(j.jsxs)("div",{className:"song__desc",children:[Object(j.jsx)("h3",{className:"song-title",children:e.title}),Object(j.jsx)("h5",{className:"song-creator",children:e.creator})]})]},t):Object(j.jsxs)("li",{className:"song",onClick:function(e){return s(e,t)},children:[Object(j.jsx)("div",{className:"song__img",children:Object(j.jsx)("img",{src:e.avatar})}),Object(j.jsxs)("div",{className:"song__desc",children:[Object(j.jsx)("h3",{className:"song-title",children:e.title}),Object(j.jsx)("h5",{className:"song-creator",children:e.creator})]})]},t)}))})})};n(19);var f=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(1),a=Object(u.a)(r,2),i=a[0],d=a[1],m=Object(c.useState)(!1),b=Object(u.a)(m,2),f=b[0],h=b[1];return Object(c.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.apify.com/v2/key-value-stores/EJ3Ppyr2t73Ifit64/records/LATEST",e.next=4,fetch("https://api.apify.com/v2/key-value-stores/EJ3Ppyr2t73Ifit64/records/LATEST");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,s(n.songs.top100_VN[0].songs),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),0===n.length?Object(j.jsx)("h2",{children:"Loading..."}):Object(j.jsxs)("div",{className:"player-music",children:[Object(j.jsx)(v,{playing:f,setPlaying:h,songs:n,currentSong:i,handleChangeSong:d}),Object(j.jsx)(g,{songs:n,currentSong:i,setCurrentSong:d})]})};var h=function(){return Object(j.jsx)("div",{className:"app",children:Object(j.jsx)(f,{})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),p()}],[[20,1,2]]]);
//# sourceMappingURL=main.68e8684b.chunk.js.map